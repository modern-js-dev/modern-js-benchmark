"use strict";(window.webpackChunkwebsite=window.webpackChunkwebsite||[]).push([[179],{25577:function(e,t,n){n.d(t,{Z:function(){return Te}});var r,i,a,s,c,o,l,m,u=n(77039),d=n(76313),f=(n(18820),n(7298)),x=n(87623),h="bundle-size",p="compile-speed",g="install-speed",Z=24,y=["mwa-minimal","mwa-initial","mwa-ssr","mwa-arco-pro","mwa-arco-pro-esbuild"],j=["mwa-minimal","mwa-initial"],b=["minifiedBundleSize","gzippedBundleSize"],v=["mwa-arco-pro","mwa-arco-pro-esbuild"],N=["buildColdBootTime","buildHotBootTime","buildPluginSetupTime","buildPrepareTime","devColdBootTime","devHotBootTime","devPluginSetupTime","devPrepareTime"],w=["mwa-minimal","mwa-initial"],T=["yarnDependenciesCount","yarnInstallSize","yarnColdInstallTime","yarnHotInstallTime"],S={height:400,seriesField:"category",xField:"x",yField:"y",xAxis:{label:{formatter:function(e){return e.split(" ")[0]}}},point:{size:3}},k=n(4637),z=f.ZP.div(r||(r=(0,d.Z)(["\n  position: fixed;\n  display: flex;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 56px;\n  padding: 4px ","px;\n  background-color: #fff;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid #e8e8e8;\n"])),Z),I=f.ZP.div(i||(i=(0,d.Z)(["\n  display: flex;\n  font-size: 18px;\n  align-items: center;\n  color: #111;\n"]))),B=f.ZP.img(a||(a=(0,d.Z)(["\n  height: 100%;\n"]))),C=f.ZP.div(s||(s=(0,d.Z)(["\n  width: 48px;\n  height: 36px;\n  overflow: hidden;\n  margin-right: 16px;\n"]))),P=f.ZP.a(c||(c=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  font-size: 28px;\n  color: #222;\n"]))),F=function(){return(0,k.jsx)(P,{target:"_blank",href:"https://github.com/modern-js-dev/modern-js-benchmark",children:(0,k.jsx)(x.Z,{})})},M=function(){return(0,k.jsxs)(z,{className:"nav-bar",children:[(0,k.jsxs)(I,{children:[(0,k.jsx)(C,{children:(0,k.jsx)(B,{src:"https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg"})}),"Modern.js Benchmark"]}),(0,k.jsx)(F,{})]})},R=n(28054),D=n(39727),K=n(51543),H=n(98792),A=n(80674),O=R.Z.Item,L=f.ZP.div(o||(o=(0,d.Z)(["\n  position: fixed;\n  top: 56px;\n  left: 0;\n  bottom: 0;\n  width: 260px;\n  background: #fff;\n"]))),E=f.ZP.div(l||(l=(0,d.Z)(["\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n  right: 6px;\n  text-align: center;\n"]))),V={display:"flex",alignItems:"center",height:48,fontSize:15,marginBottom:8},Y=function(e){return(0,k.jsxs)(L,{children:[(0,k.jsxs)(R.Z,{mode:"vertical",style:{padding:"16px 4px"},onClickMenuItem:e.onClickMenuItem,defaultSelectedKeys:[e.defaultSelectedKey],children:[(0,k.jsxs)(O,{style:V,children:[(0,k.jsx)(D.Z,{style:{fontSize:20}}),"Bundle Size"]},h),(0,k.jsxs)(O,{style:V,children:[(0,k.jsx)(K.Z,{style:{fontSize:20}}),"Compile Speed"]},p),(0,k.jsxs)(O,{style:V,children:[(0,k.jsx)(H.Z,{style:{fontSize:20}}),"Install Speed"]},g)]}),(0,k.jsx)(E,{children:(0,k.jsxs)("a",{href:"https://github.com/modern-js-dev/modern-js-benchmark/tree/gh-pages/data",target:"_blank",style:{color:"#2972b7"},children:[(0,k.jsx)(A.Z,{style:{fontSize:18,marginRight:6,verticalAlign:-4}}),"View Raw Data"]})})]})},_=n(44367),G=n(99114),Q=n(67010),q=n(96624),J=n(63365),U=n(8855),W=n(68198),X=n(59061),$=n.n(X),ee=function(e){return"".concat((t=e.time,$()(t).format("YY-MM-DD HH:mm")),"\uff08").concat(e.id,"\uff09");var t},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KB";return"KB"===t?e/=1024:"MB"===t&&(e=e/1024/1024),Number(e.toFixed(2))},ne=function(e){return Number((e/1e3).toFixed(2))},re=function(e,t,n,r){return[].concat((0,W.Z)(e.map((function(e){return(0,_.Z)((0,_.Z)({},e),{},{caseName:n[0],metricsName:r[0]})}))),(0,W.Z)(t.map((function(e){return(0,_.Z)((0,_.Z)({},e),{},{caseName:n[1],metricsName:r[1]})})))).sort((function(e,t){return e.time-t.time})).filter((function(e){return e.metrics[e.metricsName]}))},ie=[{title:"File",dataIndex:"file"},{title:"Size",dataIndex:"size"}],ae=function(e){var t=(e.data[e.data.length-1].metrics[e.metricsName]||{}).files,n=void 0===t?{}:t,r=Object.keys(n).sort((function(e,t){return n[t]-n[e]})).map((function(e){return{key:e,file:e,size:"".concat(te(n[e])," KB")}}));return(0,k.jsxs)(J.Z.Col,{span:12,children:[(0,k.jsx)(q.Z.Title,{heading:6,style:{marginTop:0},children:e.caseName}),(0,k.jsx)(U.Z,{columns:ie,data:r})]})},se=function(e){var t=e.data,n=e.caseNames,r=e.metricsNames;return(0,k.jsxs)(Q.Z,{bordered:!1,style:{marginTop:Z},children:[(0,k.jsx)(q.Z.Title,{heading:5,style:{marginTop:0},children:"File Detail"}),"Size of all files in the latest commit.",(0,k.jsx)(J.Z.Row,{gutter:40,style:{marginTop:Z},children:t&&t.map((function(e,t){return(0,k.jsx)(ae,{data:e,caseName:n[t],metricsName:r[t]},n[t]+r[t])}))})]})},ce=n(97918),oe=n(66565),le=n(71842),me=n(59496),ue=function(e){var t=e.index,n=e.metrics,r=e.initialCase;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(q.Z.Title,{heading:6,style:{marginTop:t>1?12:0},children:["Group",t,":"]}),(0,k.jsxs)(J.Z.Row,{gutter:40,children:[(0,k.jsx)(J.Z.Col,{span:8,children:(0,k.jsx)(ce.Z.Item,{label:"Case",field:"caseName".concat(t),initialValue:r[t-1],style:{marginBottom:8},children:(0,k.jsx)(oe.Z,{children:y.map((function(e){return(0,k.jsx)(oe.Z.Option,{value:e,children:e},e)}))})})}),(0,k.jsx)(J.Z.Col,{span:8,children:(0,k.jsx)(ce.Z.Item,{label:"Metrics",field:"metricsName".concat(t),initialValue:n[0],style:{marginBottom:8},children:(0,k.jsx)(oe.Z,{children:n.map((function(e){return(0,k.jsx)(oe.Z.Option,{value:e,children:e},e)}))})})})]})]})},de=function(e){return(0,k.jsx)(Q.Z,{bordered:!1,style:{marginBottom:Z},children:(0,k.jsxs)(ce.Z,{layout:"horizontal",labelAlign:"left",onSubmit:e.onSubmit,children:[(0,k.jsx)(ue,(0,_.Z)((0,_.Z)({},e),{},{index:1})),(0,k.jsx)(ue,(0,_.Z)((0,_.Z)({},e),{},{index:2})),(0,k.jsx)(le.Z,{type:"primary",htmlType:"submit",style:{width:120,marginTop:12},children:"Query"})]})})},fe=function(e,t){var n=(0,me.useState)(e),r=(0,u.Z)(n,2),i=r[0],a=r[1],s=(0,me.useState)([t,t]),c=(0,u.Z)(s,2),o=c[0],l=c[1];return{caseNames:i,metricsNames:o,onSubmitForm:function(e){a([e.caseName1,e.caseName2]),l([e.metricsName1,e.metricsName2])}}},xe=n(36834),he=n(82173),pe=new Map,ge=function(){var e=(0,he.Z)((0,xe.Z)().mark((function e(t){var n;return(0,xe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe.has(t)){e.next=2;break}return e.abrupt("return",pe.get(t));case 2:return e.next=4,fetch(t).then((function(e){return e.json()})).catch((function(){}));case 4:return n=e.sent,pe.set(t,n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,he.Z)((0,xe.Z)().mark((function e(){return(0,xe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge("./data/commits-info.json"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,he.Z)((0,xe.Z)().mark((function e(t){var n,r;return(0,xe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:return n=e.sent,e.next=5,Promise.all(n.map((function(e){return ge("./data/".concat(e.id,"/").concat(t,".json"))})));case 5:return r=e.sent,e.abrupt("return",r.map((function(e,t){return(0,_.Z)((0,_.Z)({},n[t]),{},{metrics:e})})).filter((function(e){return!!e.metrics})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=(0,me.useRef)(null),t=(0,me.useRef)(null),n=fe(j,b[0]),r=n.caseNames,i=n.metricsNames,a=n.onSubmitForm,s=(0,me.useState)(null),c=(0,u.Z)(s,2),o=c[0],l=c[1],m=function(e){var n=e.root,r=function(e,t,n,r){return re(e,t,n,r).map((function(e){return{category:n[0]===n[1]?e.metricsName:e.caseName,x:ee(e),y:te(e.metrics[e.metricsName].total)}}))}(e.data1,e.data2,e.caseNames,e.metricsNames);t.current?t.current.changeData(r):n&&(t.current=new G.Line(n,(0,_.Z)((0,_.Z)({},S),{},{data:r,yAxis:{label:{formatter:function(e){return"".concat(e," KB")}}},tooltip:{fields:["x","y","category"],formatter:function(e){return{name:e.category,value:"".concat(e.y," KB")}}}})),t.current.render())};return(0,me.useEffect)((function(){Promise.all([ye(r[0]),ye(r[1])]).then((function(t){var n=(0,u.Z)(t,2),a=n[0],s=n[1];l([a,s]),m({data1:a,data2:s,caseNames:r,metricsNames:i,root:e.current})}))}),[r,i]),(0,k.jsxs)("div",{style:{padding:Z},children:[(0,k.jsx)(de,{metrics:b,initialCase:r,onSubmit:a}),(0,k.jsxs)(Q.Z,{bordered:!1,style:{height:464},children:[(0,k.jsx)(q.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,k.jsx)("div",{ref:e})]}),(0,k.jsx)(se,{data:o,caseNames:r,metricsNames:i})]})},be=function(){var e=(0,me.useRef)(null),t=(0,me.useRef)(null),n=fe(v,N[0]),r=n.caseNames,i=n.metricsNames,a=n.onSubmitForm,s=function(e){var n=e.root,r=function(e,t,n,r){return re(e,t,n,r).map((function(e){return{category:n[0]===n[1]?e.metricsName:e.caseName,x:ee(e),y:ne(e.metrics[e.metricsName])}}))}(e.data1,e.data2,e.caseNames,e.metricsNames);t.current?t.current.changeData(r):n&&(t.current=new G.Line(n,(0,_.Z)((0,_.Z)({},S),{},{data:r,yAxis:{label:{formatter:function(e){return"".concat(e," s")}}},tooltip:{fields:["x","y","category"],formatter:function(e){return{name:e.category,value:e.y+"s"}}}})),t.current.render())};return(0,me.useEffect)((function(){Promise.all([ye(r[0]),ye(r[1])]).then((function(t){var n=(0,u.Z)(t,2),a=n[0],c=n[1];s({data1:a,data2:c,caseNames:r,metricsNames:i,root:e.current})}))}),[r,i]),(0,k.jsxs)("div",{style:{padding:Z},children:[(0,k.jsx)(de,{metrics:N,initialCase:r,onSubmit:a}),(0,k.jsxs)(Q.Z,{bordered:!1,style:{height:464},children:[(0,k.jsx)(q.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,k.jsx)("div",{ref:e})]})]})},ve=function(){var e=(0,me.useRef)(null),t=(0,me.useRef)(null),n=fe(w,T[0]),r=n.caseNames,i=n.metricsNames,a=n.onSubmitForm,s=function(e){var n=e.root,r=function(e,t,n,r){return re(e,t,n,r).map((function(e){var t,r=e.metrics[e.metricsName];switch(e.metricsName){case"yarnInstallSize":t=te(r,"MB");break;case"yarnHotInstallTime":case"yarnColdInstallTime":t=ne(r);break;default:t=r}return{metricsName:e.metricsName,category:n[0]===n[1]?e.metricsName:e.caseName,x:ee(e),y:t}}))}(e.data1,e.data2,e.caseNames,e.metricsNames);t.current?t.current.changeData(r):n&&(t.current=new G.Line(n,(0,_.Z)((0,_.Z)({},S),{},{data:r,tooltip:{fields:["x","y","category","metricsName"],formatter:function(e){var t=e.y;return"yarnInstallSize"===e.metricsName&&(t+="MB"),"yarnColdInstallTime"!==e.metricsName&&"yarnHotInstallTime"!==e.metricsName||(t+="s"),{name:e.category,value:t}}}})),t.current.render())};return(0,me.useEffect)((function(){Promise.all([ye(r[0]),ye(r[1])]).then((function(t){var n=(0,u.Z)(t,2),a=n[0],c=n[1];s({data1:a,data2:c,caseNames:r,metricsNames:i,root:e.current})}))}),[r,i]),(0,k.jsxs)("div",{style:{padding:Z},children:[(0,k.jsx)(de,{metrics:T,initialCase:r,onSubmit:a}),(0,k.jsxs)(Q.Z,{bordered:!1,style:{height:464},children:[(0,k.jsx)(q.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,k.jsx)("div",{ref:e})]})]})},Ne=function(e){return(0,k.jsx)("div",{style:{marginLeft:260,marginTop:56},children:function(){switch(e.menuIndex){case h:return(0,k.jsx)(je,{});case p:return(0,k.jsx)(be,{});case g:return(0,k.jsx)(ve,{})}return null}()})},we=f.ZP.div(m||(m=(0,d.Z)(["\n  min-height: 100vh;\n"]))),Te=function(){var e=(0,me.useState)(h),t=(0,u.Z)(e,2),n=t[0],r=t[1];return(0,k.jsxs)(we,{children:[(0,k.jsx)(M,{}),(0,k.jsx)(Y,{defaultSelectedKey:n,onClickMenuItem:r}),(0,k.jsx)(Ne,{menuIndex:n})]})}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[382],(function(){return t(15976),t(77410),t(45914)}));e.O()}]);
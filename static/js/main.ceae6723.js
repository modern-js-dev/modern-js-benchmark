"use strict";(window.webpackChunkwebsite=window.webpackChunkwebsite||[]).push([[179],{25577:function(e,t,n){n.d(t,{Z:function(){return ke}});var r,i,a,s,c,o,l,m,u=n(77039),d=n(76313),f=(n(18820),n(7298)),x=n(87623),p="bundle-size",h="compile-speed",g="install-speed",Z="test-coverage",j=24,y=["mwa-minimal","mwa-initial","mwa-tailwind","mwa-ssr","mwa-ssg","mwa-bff-koa","mwa-bff-express","mwa-arco-pro","mwa-arco-pro-esbuild"],b=["mwa-minimal","mwa-initial"],v=["minifiedBundleSize","gzippedBundleSize"],N=["mwa-arco-pro","mwa-arco-pro-esbuild"],w=["buildColdBootTime","buildHotBootTime","buildPluginSetupTime","buildPrepareTime","devColdBootTime","devHotBootTime","devPluginSetupTime","devPrepareTime"],T=["mwa-minimal","mwa-initial"],S=["yarnDependenciesCount","yarnInstallSize","yarnColdInstallTime","yarnHotInstallTime"],k={height:400,seriesField:"category",xField:"x",yField:"y",xAxis:{label:{formatter:function(e){return e.split(" ")[0]}}},point:{size:3}},z=n(4637),C=f.ZP.div(r||(r=(0,d.Z)(["\n  position: fixed;\n  display: flex;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 56px;\n  padding: 4px ","px;\n  background-color: #fff;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid #e8e8e8;\n"])),j),I=f.ZP.div(i||(i=(0,d.Z)(["\n  display: flex;\n  font-size: 18px;\n  align-items: center;\n  color: #111;\n"]))),B=f.ZP.img(a||(a=(0,d.Z)(["\n  height: 100%;\n"]))),P=f.ZP.div(s||(s=(0,d.Z)(["\n  width: 48px;\n  height: 36px;\n  overflow: hidden;\n  margin-right: 16px;\n"]))),F=f.ZP.a(c||(c=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  font-size: 28px;\n  color: #222;\n"]))),M=function(){return(0,z.jsx)(F,{target:"_blank",href:"https://github.com/modern-js-dev/modern-js-benchmark",children:(0,z.jsx)(x.Z,{})})},R=function(){return(0,z.jsxs)(C,{className:"nav-bar",children:[(0,z.jsxs)(I,{children:[(0,z.jsx)(P,{children:(0,z.jsx)(B,{src:"https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg"})}),"Modern.js Benchmark"]}),(0,z.jsx)(M,{})]})},D=n(28054),K=n(39727),H=n(51543),A=n(98792),O=n(72056),L=n(80674),E=D.Z.Item,V=f.ZP.div(o||(o=(0,d.Z)(["\n  position: fixed;\n  top: 56px;\n  left: 0;\n  bottom: 0;\n  width: 260px;\n  background: #fff;\n"]))),_=f.ZP.div(l||(l=(0,d.Z)(["\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n  right: 6px;\n  text-align: center;\n"]))),Y={display:"flex",alignItems:"center",height:48,fontSize:15,marginBottom:8},G=function(e){return(0,z.jsxs)(V,{children:[(0,z.jsxs)(D.Z,{mode:"vertical",style:{padding:"16px 4px"},onClickMenuItem:e.onClickMenuItem,defaultSelectedKeys:[e.defaultSelectedKey],children:[(0,z.jsxs)(E,{style:Y,children:[(0,z.jsx)(K.Z,{style:{fontSize:20}}),"Bundle Size"]},p),(0,z.jsxs)(E,{style:Y,children:[(0,z.jsx)(H.Z,{style:{fontSize:20}}),"Compile Speed"]},h),(0,z.jsxs)(E,{style:Y,children:[(0,z.jsx)(A.Z,{style:{fontSize:20}}),"Install Speed"]},g),(0,z.jsxs)(E,{style:Y,children:[(0,z.jsx)(O.Z,{style:{fontSize:20}}),"Test Coverage",(0,z.jsx)("a",{href:"https://app.codecov.io/gh/modern-js-dev/modern.js/",target:"_blank",style:{position:"absolute",top:0,left:0,bottom:0,right:0},onClick:function(e){e.stopPropagation()}})]},Z)]}),(0,z.jsx)(_,{children:(0,z.jsxs)("a",{href:"https://github.com/modern-js-dev/modern-js-benchmark/tree/gh-pages/data",target:"_blank",style:{color:"#2972b7"},children:[(0,z.jsx)(L.Z,{style:{fontSize:18,marginRight:6,verticalAlign:-4}}),"View Raw Data"]})})]})},Q=n(44367),q=n(99114),J=n(67010),U=n(96624),W=n(63365),X=n(8855),$=n(68198),ee=n(59061),te=n.n(ee),ne=function(e){return"".concat((t=e.time,te()(t).format("YY-MM-DD HH:mm")),"\uff08").concat(e.id,"\uff09");var t},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KB";return"KB"===t?e/=1024:"MB"===t&&(e=e/1024/1024),Number(e.toFixed(2))},ie=function(e){return Number((e/1e3).toFixed(2))},ae=function(e,t,n,r){return[].concat((0,$.Z)(e.map((function(e){return(0,Q.Z)((0,Q.Z)({},e),{},{caseName:n[0],metricsName:r[0]})}))),(0,$.Z)(t.map((function(e){return(0,Q.Z)((0,Q.Z)({},e),{},{caseName:n[1],metricsName:r[1]})})))).sort((function(e,t){return e.time-t.time})).filter((function(e){return e.metrics[e.metricsName]}))},se=[{title:"File",dataIndex:"file"},{title:"Size",dataIndex:"size"}],ce=function(e){var t=(e.data[e.data.length-1].metrics[e.metricsName]||{}).files,n=void 0===t?{}:t,r=Object.keys(n).sort((function(e,t){return n[t]-n[e]})).map((function(e){return{key:e,file:e,size:"".concat(re(n[e])," KB")}}));return(0,z.jsxs)(W.Z.Col,{span:12,children:[(0,z.jsx)(U.Z.Title,{heading:6,style:{marginTop:0},children:e.caseName}),(0,z.jsx)(X.Z,{columns:se,data:r})]})},oe=function(e){var t=e.data,n=e.caseNames,r=e.metricsNames;return(0,z.jsxs)(J.Z,{bordered:!1,style:{marginTop:j},children:[(0,z.jsx)(U.Z.Title,{heading:5,style:{marginTop:0},children:"File Detail"}),"Size of all files in the latest commit.",(0,z.jsx)(W.Z.Row,{gutter:40,style:{marginTop:j},children:t&&t.map((function(e,t){return(0,z.jsx)(ce,{data:e,caseName:n[t],metricsName:r[t]},n[t]+r[t])}))})]})},le=n(97918),me=n(66565),ue=n(71842),de=n(59496),fe=function(e){var t=e.index,n=e.metrics,r=e.initialCase;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(U.Z.Title,{heading:6,style:{marginTop:t>1?12:0},children:["Group",t,":"]}),(0,z.jsxs)(W.Z.Row,{gutter:40,children:[(0,z.jsx)(W.Z.Col,{span:8,children:(0,z.jsx)(le.Z.Item,{label:"Case",field:"caseName".concat(t),initialValue:r[t-1],style:{marginBottom:8},children:(0,z.jsx)(me.Z,{children:y.map((function(e){return(0,z.jsx)(me.Z.Option,{value:e,children:e},e)}))})})}),(0,z.jsx)(W.Z.Col,{span:8,children:(0,z.jsx)(le.Z.Item,{label:"Metrics",field:"metricsName".concat(t),initialValue:n[0],style:{marginBottom:8},children:(0,z.jsx)(me.Z,{children:n.map((function(e){return(0,z.jsx)(me.Z.Option,{value:e,children:e},e)}))})})})]})]})},xe=function(e){return(0,z.jsx)(J.Z,{bordered:!1,style:{marginBottom:j},children:(0,z.jsxs)(le.Z,{layout:"horizontal",labelAlign:"left",onSubmit:e.onSubmit,children:[(0,z.jsx)(fe,(0,Q.Z)((0,Q.Z)({},e),{},{index:1})),(0,z.jsx)(fe,(0,Q.Z)((0,Q.Z)({},e),{},{index:2})),(0,z.jsx)(ue.Z,{type:"primary",htmlType:"submit",style:{width:120,marginTop:12},children:"Query"})]})})},pe=function(e,t){var n=(0,de.useState)(e),r=(0,u.Z)(n,2),i=r[0],a=r[1],s=(0,de.useState)([t,t]),c=(0,u.Z)(s,2),o=c[0],l=c[1];return{caseNames:i,metricsNames:o,onSubmitForm:function(e){a([e.caseName1,e.caseName2]),l([e.metricsName1,e.metricsName2])}}},he=n(36834),ge=n(82173),Ze=new Map,je=function(){var e=(0,ge.Z)((0,he.Z)().mark((function e(t){var n;return(0,he.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ze.has(t)){e.next=2;break}return e.abrupt("return",Ze.get(t));case 2:return e.next=4,fetch(t).then((function(e){return e.json()})).catch((function(){}));case 4:return n=e.sent,Ze.set(t,n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,ge.Z)((0,he.Z)().mark((function e(){return(0,he.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",je("./data/commits-info.json"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,ge.Z)((0,he.Z)().mark((function e(t){var n,r;return(0,he.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:return n=e.sent,e.next=5,Promise.all(n.map((function(e){return je("./data/".concat(e.id,"/").concat(t,".json"))})));case 5:return r=e.sent,e.abrupt("return",r.map((function(e,t){return(0,Q.Z)((0,Q.Z)({},n[t]),{},{metrics:e})})).filter((function(e){return!!e.metrics})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=(0,de.useRef)(null),t=(0,de.useRef)(null),n=pe(b,v[0]),r=n.caseNames,i=n.metricsNames,a=n.onSubmitForm,s=(0,de.useState)(null),c=(0,u.Z)(s,2),o=c[0],l=c[1],m=function(e){var n=e.root,r=function(e,t,n,r){return ae(e,t,n,r).map((function(e){return{category:n[0]===n[1]?e.metricsName:e.caseName,x:ne(e),y:re(e.metrics[e.metricsName].total)}}))}(e.data1,e.data2,e.caseNames,e.metricsNames);t.current?t.current.changeData(r):n&&(t.current=new q.Line(n,(0,Q.Z)((0,Q.Z)({},k),{},{data:r,yAxis:{label:{formatter:function(e){return"".concat(e," KB")}}},tooltip:{fields:["x","y","category"],formatter:function(e){return{name:e.category,value:"".concat(e.y," KB")}}}})),t.current.render())};return(0,de.useEffect)((function(){Promise.all([be(r[0]),be(r[1])]).then((function(t){var n=(0,u.Z)(t,2),a=n[0],s=n[1];l([a,s]),m({data1:a,data2:s,caseNames:r,metricsNames:i,root:e.current})}))}),[r,i]),(0,z.jsxs)("div",{style:{padding:j},children:[(0,z.jsx)(xe,{metrics:v,initialCase:r,onSubmit:a}),(0,z.jsxs)(J.Z,{bordered:!1,style:{height:464},children:[(0,z.jsx)(U.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,z.jsx)("div",{ref:e})]}),(0,z.jsx)(oe,{data:o,caseNames:r,metricsNames:i})]})},Ne=function(){var e=(0,de.useRef)(null),t=(0,de.useRef)(null),n=pe(N,w[0]),r=n.caseNames,i=n.metricsNames,a=n.onSubmitForm,s=function(e){var n=e.root,r=function(e,t,n,r){return ae(e,t,n,r).map((function(e){return{category:n[0]===n[1]?e.metricsName:e.caseName,x:ne(e),y:ie(e.metrics[e.metricsName])}}))}(e.data1,e.data2,e.caseNames,e.metricsNames);t.current?t.current.changeData(r):n&&(t.current=new q.Line(n,(0,Q.Z)((0,Q.Z)({},k),{},{data:r,yAxis:{label:{formatter:function(e){return"".concat(e," s")}}},tooltip:{fields:["x","y","category"],formatter:function(e){return{name:e.category,value:e.y+"s"}}}})),t.current.render())};return(0,de.useEffect)((function(){Promise.all([be(r[0]),be(r[1])]).then((function(t){var n=(0,u.Z)(t,2),a=n[0],c=n[1];s({data1:a,data2:c,caseNames:r,metricsNames:i,root:e.current})}))}),[r,i]),(0,z.jsxs)("div",{style:{padding:j},children:[(0,z.jsx)(xe,{metrics:w,initialCase:r,onSubmit:a}),(0,z.jsxs)(J.Z,{bordered:!1,style:{height:464},children:[(0,z.jsx)(U.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,z.jsx)("div",{ref:e})]})]})},we=function(){var e=(0,de.useRef)(null),t=(0,de.useRef)(null),n=pe(T,S[0]),r=n.caseNames,i=n.metricsNames,a=n.onSubmitForm,s=function(e){var n=e.root,r=function(e,t,n,r){return ae(e,t,n,r).map((function(e){var t,r=e.metrics[e.metricsName];switch(e.metricsName){case"yarnInstallSize":t=re(r,"MB");break;case"yarnHotInstallTime":case"yarnColdInstallTime":t=ie(r);break;default:t=r}return{metricsName:e.metricsName,category:n[0]===n[1]?e.metricsName:e.caseName,x:ne(e),y:t}}))}(e.data1,e.data2,e.caseNames,e.metricsNames);t.current?t.current.changeData(r):n&&(t.current=new q.Line(n,(0,Q.Z)((0,Q.Z)({},k),{},{data:r,tooltip:{fields:["x","y","category","metricsName"],formatter:function(e){var t=e.y;return"yarnInstallSize"===e.metricsName&&(t+="MB"),"yarnColdInstallTime"!==e.metricsName&&"yarnHotInstallTime"!==e.metricsName||(t+="s"),{name:e.category,value:t}}}})),t.current.render())};return(0,de.useEffect)((function(){Promise.all([be(r[0]),be(r[1])]).then((function(t){var n=(0,u.Z)(t,2),a=n[0],c=n[1];s({data1:a,data2:c,caseNames:r,metricsNames:i,root:e.current})}))}),[r,i]),(0,z.jsxs)("div",{style:{padding:j},children:[(0,z.jsx)(xe,{metrics:S,initialCase:r,onSubmit:a}),(0,z.jsxs)(J.Z,{bordered:!1,style:{height:464},children:[(0,z.jsx)(U.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,z.jsx)("div",{ref:e})]})]})},Te=function(e){return(0,z.jsx)("div",{style:{marginLeft:260,marginTop:56},children:function(){switch(e.menuIndex){case p:return(0,z.jsx)(ve,{});case h:return(0,z.jsx)(Ne,{});case g:return(0,z.jsx)(we,{})}return null}()})},Se=f.ZP.div(m||(m=(0,d.Z)(["\n  min-height: 100vh;\n"]))),ke=function(){var e=(0,de.useState)(p),t=(0,u.Z)(e,2),n=t[0],r=t[1];return(0,z.jsxs)(Se,{children:[(0,z.jsx)(R,{}),(0,z.jsx)(G,{defaultSelectedKey:n,onClickMenuItem:r}),(0,z.jsx)(Te,{menuIndex:n})]})}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[410],(function(){return t(15976),t(77410),t(45914)}));e.O()}]);
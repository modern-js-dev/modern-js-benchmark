"use strict";(window.webpackChunkwebsite=window.webpackChunkwebsite||[]).push([[179],{87420:function(e,t,n){n.d(t,{Z:function(){return ge}});var r,i,a,s,c,o,u,l,m=n(77039),d=n(76313),f=(n(18820),n(7298)),p=n(87623),x="bundle-size",h="compile-speed",Z=24,g=["mwa-minimal","mwa-initial","mwa-ssr","mwa-arco-pro","mwa-arco-pro-esbuild"],j=["mwa-minimal","mwa-initial"],b=["mwa-arco-pro","mwa-arco-pro-esbuild"],y=["minifiedBundleSize","gzippedBundleSize"],v=["buildColdBootTime","buildHotBootTime","buildPluginSetupTime","buildPrepareTime","devColdBootTime","devHotBootTime","devPluginSetupTime","devPrepareTime"],N={height:400,seriesField:"category",xField:"date",xAxis:{label:{formatter:function(e){return e.split(" ")[0]}}},point:{size:3}},w=n(4637),S=f.ZP.div(r||(r=(0,d.Z)(["\n  position: fixed;\n  display: flex;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 56px;\n  padding: 4px ","px;\n  background-color: #fff;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid #e8e8e8;\n"])),Z),T=f.ZP.div(i||(i=(0,d.Z)(["\n  display: flex;\n  font-size: 18px;\n  align-items: center;\n  color: #111;\n"]))),z=f.ZP.img(a||(a=(0,d.Z)(["\n  height: 100%;\n"]))),k=f.ZP.div(s||(s=(0,d.Z)(["\n  width: 48px;\n  height: 36px;\n  overflow: hidden;\n  margin-right: 16px;\n"]))),B=f.ZP.a(c||(c=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  font-size: 28px;\n  color: #222;\n"]))),C=function(){return(0,w.jsx)(B,{target:"_blank",href:"https://github.com/modern-js-dev/modern-js-benchmark",children:(0,w.jsx)(p.Z,{})})},P=function(){return(0,w.jsxs)(S,{className:"nav-bar",children:[(0,w.jsxs)(T,{children:[(0,w.jsx)(k,{children:(0,w.jsx)(z,{src:"https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg"})}),"Modern.js Benchmark"]}),(0,w.jsx)(C,{})]})},I=n(28054),F=n(39727),M=n(51543),R=n(80674),D=I.Z.Item,K=f.ZP.div(o||(o=(0,d.Z)(["\n  position: fixed;\n  top: 56px;\n  left: 0;\n  bottom: 0;\n  width: 260px;\n  background: #fff;\n"]))),A=f.ZP.div(u||(u=(0,d.Z)(["\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n  right: 6px;\n  text-align: center;\n"]))),O={display:"flex",alignItems:"center",height:48,fontSize:15,marginBottom:8},H=function(e){return(0,w.jsxs)(K,{children:[(0,w.jsxs)(I.Z,{mode:"vertical",style:{padding:"16px 4px"},onClickMenuItem:e.onClickMenuItem,defaultSelectedKeys:[e.defaultSelectedKey],children:[(0,w.jsxs)(D,{style:O,children:[(0,w.jsx)(F.Z,{style:{fontSize:20}}),"Bundle Size"]},x),(0,w.jsxs)(D,{style:O,children:[(0,w.jsx)(M.Z,{style:{fontSize:20}}),"Compile Speed"]},h)]}),(0,w.jsx)(A,{children:(0,w.jsxs)("a",{href:"https://github.com/modern-js-dev/modern-js-benchmark/tree/gh-pages/data",target:"_blank",style:{color:"#2972b7"},children:[(0,w.jsx)(R.Z,{style:{fontSize:18,marginRight:6,verticalAlign:-4}}),"View Raw Data"]})})]})},L=n(44367),V=n(99114),E=n(67010),Y=n(96624),_=n(63365),G=n(8855),Q=n(68198),q=n(59061),J=n.n(q),U=function(e){return J()(e).format("YY-MM-DD HH:mm")},W=function(e){return Number((e/1e3).toFixed(2))},X=function(e,t,n,r){return[].concat((0,Q.Z)(e.map((function(e){return(0,L.Z)((0,L.Z)({},e),{},{caseName:n[0],metricsName:r[0]})}))),(0,Q.Z)(t.map((function(e){return(0,L.Z)((0,L.Z)({},e),{},{caseName:n[1],metricsName:r[1]})})))).sort((function(e,t){return e.time-t.time}))},$=[{title:"File",dataIndex:"file"},{title:"Size",dataIndex:"size"}],ee=function(e){var t=e.data[e.data.length-1].metrics[e.metricsName].files,n=Object.keys(t).sort((function(e,n){return t[n]-t[e]})).map((function(e){return{key:e,file:e,size:"".concat(W(t[e])," KB")}}));return(0,w.jsxs)(_.Z.Col,{span:12,children:[(0,w.jsx)(Y.Z.Title,{heading:6,style:{marginTop:0},children:e.caseName}),(0,w.jsx)(G.Z,{columns:$,data:n})]})},te=function(e){var t=e.data,n=e.caseNames,r=e.metricsNames;return(0,w.jsxs)(E.Z,{bordered:!1,style:{marginTop:Z},children:[(0,w.jsx)(Y.Z.Title,{heading:5,style:{marginTop:0},children:"File Detail"}),"Size of all files in the latest commit.",(0,w.jsx)(_.Z.Row,{gutter:40,style:{marginTop:Z},children:t&&t.map((function(e,t){return(0,w.jsx)(ee,{data:e,caseName:n[t],metricsName:r[t]},n[t]+r[t])}))})]})},ne=n(97918),re=n(66565),ie=n(71842),ae=function(e){var t=e.index,n=e.metrics,r=e.initialCase;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(Y.Z.Title,{heading:6,style:{marginTop:t>1?12:0},children:["Group",t,":"]}),(0,w.jsxs)(_.Z.Row,{gutter:40,children:[(0,w.jsx)(_.Z.Col,{span:8,children:(0,w.jsx)(ne.Z.Item,{label:"Case",field:"caseName".concat(t),initialValue:r[t-1],style:{marginBottom:8},children:(0,w.jsx)(re.Z,{children:g.map((function(e){return(0,w.jsx)(re.Z.Option,{value:e,children:e},e)}))})})}),(0,w.jsx)(_.Z.Col,{span:8,children:(0,w.jsx)(ne.Z.Item,{label:"Metrics",field:"metricsName".concat(t),initialValue:n[0],style:{marginBottom:8},children:(0,w.jsx)(re.Z,{children:n.map((function(e){return(0,w.jsx)(re.Z.Option,{value:e,children:e},e)}))})})})]})]})},se=function(e){return(0,w.jsx)(E.Z,{bordered:!1,style:{marginBottom:Z},children:(0,w.jsxs)(ne.Z,{layout:"horizontal",labelAlign:"left",onSubmit:e.onSubmit,children:[(0,w.jsx)(ae,(0,L.Z)((0,L.Z)({},e),{},{index:1})),(0,w.jsx)(ae,(0,L.Z)((0,L.Z)({},e),{},{index:2})),(0,w.jsx)(ie.Z,{type:"primary",htmlType:"submit",style:{width:120,marginTop:12},children:"Query"})]})})},ce=n(59496),oe=n(36834),ue=n(82173),le=new Map,me=function(){var e=(0,ue.Z)((0,oe.Z)().mark((function e(t){var n;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le.has(t)){e.next=2;break}return e.abrupt("return",le.get(t));case 2:return e.next=4,fetch(t).then((function(e){return e.json()})).catch((function(){}));case 4:return n=e.sent,le.set(t,n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=(0,ue.Z)((0,oe.Z)().mark((function e(){return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",me("./data/commits-info.json"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,ue.Z)((0,oe.Z)().mark((function e(t){var n,r;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:return n=e.sent,e.next=5,Promise.all(n.map((function(e){return me("./data/".concat(e.id,"/").concat(t,".json"))})));case 5:return r=e.sent,e.abrupt("return",r.map((function(e,t){return(0,L.Z)((0,L.Z)({},n[t]),{},{metrics:e})})).filter((function(e){return!!e.metrics})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,ce.useRef)(null),t=(0,ce.useRef)(null),n=(0,ce.useState)(j),r=(0,m.Z)(n,2),i=r[0],a=r[1],s=(0,ce.useState)([y[0],y[0]]),c=(0,m.Z)(s,2),o=c[0],u=c[1],l=(0,ce.useState)(null),d=(0,m.Z)(l,2),f=d[0],p=d[1],x=function(e){var n=e.root,r=function(e,t,n,r){return X(e,t,n,r).map((function(e){return{category:n[0]===n[1]?e.metricsName:e.caseName,date:"".concat(U(e.time),"\uff08").concat(e.id,"\uff09"),size:W(e.metrics[e.metricsName].total)}}))}(e.data1,e.data2,e.caseNames,e.metricsNames);t.current?t.current.changeData(r):n&&(t.current=new V.Line(n,(0,L.Z)((0,L.Z)({},N),{},{data:r,yField:"size",yAxis:{label:{formatter:function(e){return"".concat(e," KB")}}},tooltip:{fields:["date","size","category"],formatter:function(e){return{name:e.category,value:"".concat(e.size," KB")}}}})),t.current.render())};return(0,ce.useEffect)((function(){Promise.all([fe(i[0]),fe(i[1])]).then((function(t){var n=(0,m.Z)(t,2),r=n[0],a=n[1];p([r,a]),x({data1:r,data2:a,caseNames:i,metricsNames:o,root:e.current})}))}),[i,o]),(0,w.jsxs)("div",{style:{padding:Z},children:[(0,w.jsx)(se,{metrics:y,initialCase:i,onSubmit:function(e){a([e.caseName1,e.caseName2]),u([e.metricsName1,e.metricsName2])}}),(0,w.jsxs)(E.Z,{bordered:!1,style:{height:464},children:[(0,w.jsx)(Y.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,w.jsx)("div",{ref:e})]}),(0,w.jsx)(te,{data:f,caseNames:i,metricsNames:o})]})},xe=function(){var e=(0,ce.useRef)(null),t=(0,ce.useRef)(null),n=(0,ce.useState)(b),r=(0,m.Z)(n,2),i=r[0],a=r[1],s=(0,ce.useState)([v[0],v[0]]),c=(0,m.Z)(s,2),o=c[0],u=c[1],l=function(e){var n=e.root,r=function(e,t,n,r){return X(e,t,n,r).map((function(e){return{category:n[0]===n[1]?e.metricsName:e.caseName,date:"".concat(U(e.time),"\uff08").concat(e.id,"\uff09"),time:(t=e.metrics[e.metricsName],Number((t/1e3).toFixed(2)))};var t}))}(e.data1,e.data2,e.caseNames,e.metricsNames);t.current?t.current.changeData(r):n&&(t.current=new V.Line(n,(0,L.Z)((0,L.Z)({},N),{},{data:r,yField:"time",yAxis:{label:{formatter:function(e){return"".concat(e," s")}}},tooltip:{fields:["date","time","category"],formatter:function(e){return{name:e.category,value:e.time+"s"}}}})),t.current.render())};return(0,ce.useEffect)((function(){Promise.all([fe(i[0]),fe(i[1])]).then((function(t){var n=(0,m.Z)(t,2),r=n[0],a=n[1];l({data1:r,data2:a,caseNames:i,metricsNames:o,root:e.current})}))}),[i,o]),(0,w.jsxs)("div",{style:{padding:Z},children:[(0,w.jsx)(se,{metrics:v,initialCase:i,onSubmit:function(e){a([e.caseName1,e.caseName2]),u([e.metricsName1,e.metricsName2])}}),(0,w.jsxs)(E.Z,{bordered:!1,style:{height:464},children:[(0,w.jsx)(Y.Z.Title,{heading:5,style:{marginTop:0},children:"Trending"}),(0,w.jsx)("div",{ref:e})]})]})},he=function(e){return(0,w.jsx)("div",{style:{marginLeft:260,marginTop:56},children:function(){switch(e.menuIndex){case x:return(0,w.jsx)(pe,{});case h:return(0,w.jsx)(xe,{})}return null}()})},Ze=f.ZP.div(l||(l=(0,d.Z)(["\n  min-height: 100vh;\n"]))),ge=function(){var e=(0,ce.useState)(x),t=(0,m.Z)(e,2),n=t[0],r=t[1];return(0,w.jsxs)(Ze,{children:[(0,w.jsx)(P,{}),(0,w.jsx)(H,{defaultSelectedKey:n,onClickMenuItem:r}),(0,w.jsx)(he,{menuIndex:n})]})}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[373],(function(){return t(15976),t(77410),t(45914)}));e.O()}]);
//# sourceMappingURL=main.13064fe4.js.map